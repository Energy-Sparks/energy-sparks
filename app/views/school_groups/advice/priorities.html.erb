<% content_for :page_title, "#{t('school_groups.advice.priorities.title')} | #{@school_group.name}" %>

<% content_for :dashboard_header do %>
  <%= render Layout::Cards::PageHeaderComponent.new(
        title: t('school_groups.advice.priorities.title')
      ) %>
<% end %>

<div class="container">
  <div class="row mt-2">
    <div id='group-advice-page-nav' class="col-md-3 col-lg-3 col-xl-2">
      <%= render 'school_groups/advice/shared/nav', school_group: @school_group %>
    </div>
    <div id='group-advice-page-content' class="col-md-9 col-lg-9 col-xl-10">
      <%= render 'school_groups/advice/shared/message', school_group: @school_group %>

      <h2>
        <%= t('advice_pages.index.priorities.table_title') %>
      </h2>

      <% cache_if can_cache_group_advice?(@schools),
                  [@school_group.most_recent_content_generation_run, I18n.locale],
                  expires_in: 4.hours do %>
        <%= render 'school_groups/advice/priority_table',
                   school_group: @school_group,
                   path: [:priorities, @school_group, :advice],
                   priority_actions: @priority_actions,
                   total_savings: @total_savings %>
      <% end %>
    </div>
  </div>
</div>
