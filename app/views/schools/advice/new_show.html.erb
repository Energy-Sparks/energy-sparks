<% content_for :page_title, "#{t('advice_pages.index.title')} | #{@school.name}" %>

<% content_for :dashboard_header do %>
  <div class="row dashboard-header-component adult">
    <div class="col-12 col-md-9">
      <div class="row">
        <div class="col">
          <h1><%= t('advice_pages.index.title') %></h1>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <p>
            <%= t('advice_pages.index.show.intro') %>
          </p>
        </div>
      </div>
    </div>
  </div>
<% end %>

<div class="container">
  <div class="row mt-2">
    <div class="col-md-3 col-lg-3 col-xl-2 advice-page-nav">
      <%= render 'schools/advice/nav', school: @school, advice_pages: @advice_pages %>
    </div>
    <div class="col-md-9 col-lg-9 col-xl-10">
      <%= component 'dashboard_charts', school: @school do |c| %>
        <% c.with_title do %>
          <h2><%= t('advice_pages.index.show.overview_charts.title') %></h2>
        <% end %>
        <% c.with_intro do %>
          <p>
            <%= t('advice_pages.index.show.overview_charts.intro') %>
          </p>
        <% end %>
      <% end %>

      <%= component 'advice_page_list', id: 'energy-explained', classes: 'mt-4 mb-4', school: @school %>

      <%= component 'advice_reminders',
                    school: @school,
                    user: current_user,
                    alert_count: @alert_count,
                    priority_count: @priority_count,
                    id: 'whats-next',
                    classes: 'mt-4' %>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid bg-light pt-3 pb-3 mt-4">
  <div class="container">
    <div class="row">
      <div class="col-12 offset-md-2 offset-xl-2 col-md-9 col-lg-9 col-xl-10">
        <%= component 'comparison_overview', school: @school, meter_collection: @meter_collection %>
      </div>
    </div>
  </div>
</div>
