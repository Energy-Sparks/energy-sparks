<% if school %>
  <% if (programme_type, count = school.suggested_programme_type) %>
    <% if programme_type.todos.length == count %>
      <%= render InfoBarComponent.new(
            status: :neutral,
            style: local_assigns[:style],
            title: t('schools.prompts.programme.join.completed_message_html',
                     count: programme_type.bonus_score,
                     title: programme_type.title),
            icon: fa_icon('tasks fa-3x'),
            buttons: { t('common.labels.complete') => programme_type_path(programme_type) }
          ) %>
    <% else %>
      <%= render InfoBarComponent.new(
            status: :neutral,
            style: local_assigns[:style],
            title: t('schools.prompts.programme.join.message_html',
                     count: count,
                     title: programme_type.title),
            icon: fa_icon('tasks fa-3x'),
            buttons: { t('common.labels.start') => programme_type_path(programme_type) }
          ) %>
    <% end %>
  <% end %>
<% end %>
